{% extends 'base.html' %}

{% block head %}

<title>Search Page</title>
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
{% endblock %}

{% block body %}
<div class="content">
    <h1 style="text-align: center">Get a hello world message in a language of your choice</h1>

    <div class="form">
            <input placeholder="Select your language" list="browsers" name="language" id="language" style="margi">
              <datalist id="browsers">
                <option value="Hindi">
                <option value="English">
                <option value="French">
              </datalist>
            <input onclick="getMessage()" type="submit" value="SUBMIT">
    </div>
</div>

<div class="content">
    <input  type="text" id="greet" disabled></input>
</div>
{% endblock %}

{% block js %}
<script>
function getMessage(){
    const language = document.getElementById("language").value;
    fetch("http://localhost:5000/hello?language=" + language)
    .then(response => {
        return response.json();
     })
     .then(message => {
     msg = message.message.msgText
     document.getElementById('greet').value = msg
     });
}
</script>
{% endblock %}
